:root {
	--microflash-callout-accent-note: hsl(0, 0%, 23%);
	--microflash-callout-accent-commend: hsl(106, 61%, 23%);
	--microflash-callout-accent-warn: hsl(33, 69%, 27%);
	--microflash-callout-accent-deter: hsl(356, 68%, 36%);
	--microflash-callout-accent-assert: hsl(213, 62%, 35%);
	--microflash-callout-border-note: hsl(90, 7%, 88%);
	--microflash-callout-border-commend: hsl(103, 76%, 78%);
	--microflash-callout-border-warn: hsl(29, 82%, 87%);
	--microflash-callout-border-deter: hsl(4, 73%, 91%);
	--microflash-callout-border-assert: hsl(220, 91%, 92%);
}

@media (prefers-color-scheme: dark) {
	:root {
		--microflash-callout-accent-note: hsl(0, 0%, 74%);
		--microflash-callout-accent-commend: hsl(105, 51%, 51%);
		--microflash-callout-accent-warn: hsl(32, 69%, 59%);
		--microflash-callout-accent-deter: hsl(3, 77%, 74%);
		--microflash-callout-accent-assert: hsl(217, 91%, 73%);
		--microflash-callout-border-note: hsl(0, 0%, 22%);
		--microflash-callout-border-commend: hsl(106, 70%, 13%);
		--microflash-callout-border-warn: hsl(33, 77%, 15%);
		--microflash-callout-border-deter: hsl(356, 73%, 22%);
		--microflash-callout-border-assert: hsl(214, 68%, 21%);
	}
}

.callout {
	--calloutAccent: var(--callout-accent, var(--microflash-callout-accent-note));
	--calloutBorderColor: var(--callout-border, var(--microflash-callout-border-note));
	--calloutBorderThickness: 5px;
	--calloutBorderRadius: 16px;
	--calloutContentPadding: 1ch;

	background-color: var(--calloutBgColor);
	border: var(--calloutBorderThickness) solid var(--calloutBorderColor);
	border-radius: var(--calloutBorderRadius);
}

details.callout summary::marker {
	color: var(--calloutAccent);
}

.callout-indicator {
	display: flex;
	align-items: center;
	gap: 0.5ch;
	color: var(--calloutAccent);
	background-color: var(--calloutBorderColor);
	padding: 0 0.5ch var(--calloutBorderThickness);
	font-weight: var(--microflash-callout-header-font-weight, 500);
}

summary {
	background-color: var(--calloutBorderColor);
}

summary > .callout-indicator {
	display: inline-flex;
	vertical-align: middle;
}

.callout-hint {
	display: inline-flex;
	align-items: center;
}

.callout-hint > svg {
	fill: none;
	stroke: currentColor;
	stroke-width: 2px;
	width: 24px;
	height: 24px;
	inline-size: 24px;
	block-size: 24px;
	flex: none;
}

.callout-content {
	padding: var(--calloutContentPadding);
	border-image: 
			radial-gradient(#0000 71%, var(--calloutBorderColor) 72%)
			49.9%/calc(var(--calloutBorderRadius) - (var(--calloutContentPadding) / 2));
}

.callout-content:first-child,
.callout-content:only-child {
	margin-block-start: 0;
}

.callout-content:last-child,
.callout-content:only-child {
	margin-block-end: 0;
}

.callout-note {
	--callout-accent: var(--microflash-callout-accent-note);
	--callout-border: var(--microflash-callout-border-note);
}

.callout-commend {
	--callout-accent: var(--microflash-callout-accent-commend);
	--callout-border: var(--microflash-callout-border-commend);
}

.callout-warn {
	--callout-accent: var(--microflash-callout-accent-warn);
	--callout-border: var(--microflash-callout-border-warn);
}

.callout-deter {
	--callout-accent: var(--microflash-callout-accent-deter);
	--callout-border: var(--microflash-callout-border-deter);
}

.callout-assert {
	--callout-accent: var(--microflash-callout-accent-assert);
	--callout-border: var(--microflash-callout-border-assert);
}
